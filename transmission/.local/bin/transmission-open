#!/bin/sh
# Script to work with transmission-remote-gtk's action functionality.
# Pass two parameters: file manager and torrent path (%{full-path}).
# If the torrent doesn't contain a directory the script will open the
# directory containing the torrent's file (which is %{downloadDir}),
# otherwise the torrent path is opened.

# for testing purpose
msg()
{
    notify-send -a "Transmission Remote" "testing" "$*"
}

if [ $# != 1 ]
then
    msg "Action need one argument: target path"
else
    fm=nemo
    if [ -d "$1" ]
    then
        dir="$1"
    else
        dir=$(dirname "$1")
    fi
    $fm "$dir"
fi

#!/bin/sh

if [ "$1" = -s ]
then
    stat_raw=$(amixer get Master | grep Right: | grep -Eo '\[on\]|\[off\]')
    if [ "$stat_raw" = "[on]" ]
    then
        stat=1
    else
        stat=0
    fi
    echo $stat
else
    voll=$(amixer get Master | grep Left: | grep -Eo '[[:digit:]]+%' | tr -d %)
    volr=$(amixer get Master | grep Right: | grep -Eo '[[:digit:]]+%' | tr -d %)
    vol=$(((volr + voll ) / 2))
    echo $vol
fi

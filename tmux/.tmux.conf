# 256 colors
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",screen-256color:Tc"
# mouse support
set -g mouse on
# history
set -g history-limit 30000
# time to wait for ESC key
set -g escape-time 0
# put status line at top
set -g status-position top
# set key mode to vi
set -g mode-keys vi
# set the style of pane boder
set -g pane-border-style bg=brightblack,fg=green
set -g pane-active-border-style bg=brightblack,fg=green
# key mapping to reload config file
bind r source-file ~/.tmux.conf
# copy to system clipboard
bind -T copy-mode-vi MouseDown1Pane send-keys -X clear-selection
bind -T copy-mode-vi MouseDown3Pane send-keys -X cancel
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe 'xclip -in -selection clipboard'
bind -T copy-mode-vi y send-keys -X copy-pipe 'xclip -in -selection clipboard'
# open panes in the current directory
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"
# bind vim-like key mapping to move between panes
bind-key -r -T prefix C-k select-pane -U
bind-key -r -T prefix C-j select-pane -D
bind-key -r -T prefix C-h select-pane -L
bind-key -r -T prefix C-l select-pane -R
bind-key -r -T prefix C-n next-window
bind-key -r -T prefix C-p previous-window
# some other key bindings from tmux-pain-control plugin
bind-key -r "<" swap-window -t -1
bind-key -r ">" swap-window -t +1
pane_resize="4"
bind-key -r -T prefix H resize-pane -L "$pane_resize"
bind-key -r -T prefix J resize-pane -D "$pane_resize"
bind-key -r -T prefix K resize-pane -U "$pane_resize"
bind-key -r -T prefix L resize-pane -R "$pane_resize"
# adjust brightness and volumn (useful in VT)
bind-key -r -T root C-F9 run-shell -b "light -U 5"
bind-key -r -T root C-F10 run-shell -b "light -A 5"
bind-key -r -T root C-F7 run-shell -b "amixer set Master 5%- > /dev/null"
bind-key -r -T root C-F8 run-shell -b "amixer set Master 5%+ > /dev/null"
# powerline statusline
if-shell -b '[ $(which powerline > /dev/null 2>&1; echo $?) == 0 ]' \
    source "/usr/lib/python3.7/site-packages/powerline/bindings/tmux/powerline.conf.fake"
